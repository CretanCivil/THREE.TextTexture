(function(a){a.TextTexture=class extends a.Texture{constructor({text:text="",fontSize:fontSize=16,fontFamily:fontFamily="sans-serif",lineHeight:lineHeight=1.5,mapping:mapping,wrapS:wrapS,wrapT:wrapT,magFilter:magFilter,minFilter:minFilter,format:format,type:type,anisotropy:anisotropy}={}){let a=document.createElement("canvas");a.getContext("2d"),super(a,mapping,wrapS,wrapT,magFilter,minFilter,format,type,anisotropy),this._text=text,this._fontSize=fontSize,this._fontFamily=fontFamily,this._lineHeight=lineHeight,this._updateImage()}_updateImage(){let a=this.image,b=a.getContext("2d");if(b.clearRect(0,0,a.width,a.height),this._text&&this._fontSize){let c=`${this._fontSize}px ${this._fontFamily}`;b.font=c,a.width=b.measureText(this._text).width,a.height=this._fontSize*this._lineHeight,b.font=c,b.textAlign="center",b.textBaseline="middle",b.fillStyle="white",b.fillText(this._text,a.width/2,a.height/2)}else a.width=a.height=1;this.needsUpdate=!0}get text(){return this._text}set text(a){this._text!==a&&(this._text=a,this._updateImage())}get fontSize(){return this._fontSize}set fontSize(a){this._fontSize!==a&&(this._fontSize=a,this._updateImage())}get fontFamily(){return this._fontFamily}set fontFamily(a){this._fontFamily!==a&&(this._fontFamily=a,this._updateImage())}get lineHeight(){return this._lineHeight}set lineHeight(a){this._lineHeight!==a&&(this._lineHeight=a,this._updateImage())}get aspect(){return this.image.width/this.image.height}}}).call(this,THREE);